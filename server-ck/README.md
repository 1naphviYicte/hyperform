# Benchmark




### Baseline (Resolves to JSON after 1 second)

`autocannon -a 100 -c 100 localhost:3000`

100 connections
100 requests
As fast as possible

┌─────────┬─────────┬─────────┬─────────┬─────────┬───────────┬─────────┬─────────┐
│ Stat    │ 2.5%    │ 50%     │ 97.5%   │ 99%     │ Avg       │ Stdev   │ Max     │
├─────────┼─────────┼─────────┼─────────┼─────────┼───────────┼─────────┼─────────┤
│ Latency │ 1073 ms │ 1078 ms │ 1087 ms │ 1087 ms │ 1079.1 ms │ 4.76 ms │ 1087 ms │
└─────────┴─────────┴─────────┴─────────┴─────────┴───────────┴─────────┴─────────┘
┌───────────┬─────┬──────┬─────┬───────┬───────┬───────┬───────┐
│ Stat      │ 1%  │ 2.5% │ 50% │ 97.5% │ Avg   │ Stdev │ Min   │
├───────────┼─────┼──────┼─────┼───────┼───────┼───────┼───────┤
│ Req/Sec   │ 0   │ 0    │ 0   │ 100   │ 50    │ 50    │ 100   │
├───────────┼─────┼──────┼─────┼───────┼───────┼───────┼───────┤
│ Bytes/Sec │ 0 B │ 0 B  │ 0 B │ 24 kB │ 12 kB │ 12 kB │ 24 kB │
└───────────┴─────┴──────┴─────┴───────┴───────┴───────┴───────┘


### Plain sdk use WITHOUT initial resolving 1


`autocannon -a 100 -c 100 localhost:3000`

```

┌─────────┬────────┬─────────┬─────────┬─────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%   │ 99%     │ Avg       │ Stdev     │ Max     │
├─────────┼────────┼─────────┼─────────┼─────────┼───────────┼───────────┼─────────┤
│ Latency │ 753 ms │ 1267 ms │ 2107 ms │ 2129 ms │ 1324.6 ms │ 383.98 ms │ 2166 ms │
└─────────┴────────┴─────────┴─────────┴─────────┴───────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%    │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 8       │ 8       │ 25     │ 67      │ 33.34   │ 24.8    │ 8       │
├───────────┼─────────┼─────────┼────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 1.95 kB │ 1.95 kB │ 6.1 kB │ 16.3 kB │ 8.13 kB │ 6.04 kB │ 1.95 kB │
└───────────┴─────────┴─────────┴────────┴─────────┴─────────┴─────────┴─────────┘
```


### Plain sdk use WITHOUT initial resolving 2


`autocannon -a 100 -c 100 localhost:3000`


```
┌─────────┬────────┬─────────┬─────────┬─────────┬────────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev     │ Max     │
├─────────┼────────┼─────────┼─────────┼─────────┼────────────┼───────────┼─────────┤
│ Latency │ 863 ms │ 1476 ms │ 2395 ms │ 2416 ms │ 1499.22 ms │ 397.75 ms │ 2427 ms │
└─────────┴────────┴─────────┴─────────┴─────────┴────────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 11      │ 11      │ 14      │ 75      │ 33.34   │ 29.49   │ 11      │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 2.69 kB │ 2.69 kB │ 3.41 kB │ 18.3 kB │ 8.13 kB │ 7.19 kB │ 2.68 kB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘


```

----


Nicht representativ da clk bei server start resolved, das erst bei erstem GET

### Plain sdk use WITH initial resolving 1

```
┌─────────┬─────────┬─────────┬─────────┬─────────┬────────────┬───────────┬─────────┐
│ Stat    │ 2.5%    │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev     │ Max     │
├─────────┼─────────┼─────────┼─────────┼─────────┼────────────┼───────────┼─────────┤
│ Latency │ 1880 ms │ 2431 ms │ 3538 ms │ 3646 ms │ 2484.33 ms │ 427.48 ms │ 3656 ms │
└─────────┴─────────┴─────────┴─────────┴─────────┴────────────┴───────────┴─────────┘
┌───────────┬─────┬──────┬─────────┬─────────┬────────┬─────────┬─────────┐
│ Stat      │ 1%  │ 2.5% │ 50%     │ 97.5%   │ Avg    │ Stdev   │ Min     │
├───────────┼─────┼──────┼─────────┼─────────┼────────┼─────────┼─────────┤
│ Req/Sec   │ 0   │ 0    │ 10      │ 75      │ 25     │ 29.37   │ 10      │
├───────────┼─────┼──────┼─────────┼─────────┼────────┼─────────┼─────────┤
│ Bytes/Sec │ 0 B │ 0 B  │ 2.44 kB │ 18.3 kB │ 6.1 kB │ 7.16 kB │ 2.44 kB │
└───────────┴─────┴──────┴─────────┴─────────┴────────┴─────────┴─────────┘


```
### Plain sdk use WITH initial resolving 2


```
┌─────────┬─────────┬─────────┬─────────┬─────────┬────────────┬────────────┬─────────┐
│ Stat    │ 2.5%    │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev      │ Max     │
├─────────┼─────────┼─────────┼─────────┼─────────┼────────────┼────────────┼─────────┤
│ Latency │ 1441 ms │ 1886 ms │ 5487 ms │ 5528 ms │ 2892.46 ms │ 1634.38 ms │ 5571 ms │
└─────────┴─────────┴─────────┴─────────┴─────────┴────────────┴────────────┴─────────┘
┌───────────┬─────┬──────┬───────┬─────────┬─────────┬─────────┬───────┐
│ Stat      │ 1%  │ 2.5% │ 50%   │ 97.5%   │ Avg     │ Stdev   │ Min   │
├───────────┼─────┼──────┼───────┼─────────┼─────────┼─────────┼───────┤
│ Req/Sec   │ 0   │ 0    │ 4     │ 62      │ 16.67   │ 21.77   │ 4     │
├───────────┼─────┼──────┼───────┼─────────┼─────────┼─────────┼───────┤
│ Bytes/Sec │ 0 B │ 0 B  │ 974 B │ 15.1 kB │ 4.06 kB │ 5.31 kB │ 974 B │
└───────────┴─────┴──────┴───────┴─────────┴─────────┴─────────┴───────┘


```


----


### { run: "myinc" } 1

Falsche methodologie 

Nicht repräsentativ da Server neugestartet wurde und unbestimmete Zeit danach danach schon GET (manchmal clk noch beim resolven und Zeit fließt mitein,  manchmal nicht, etc)


`autocannon -a 100 -c 100 localhost:3000`

Server code:
```
 // clk.run({ num: Math.ceil(Math.random() * 100) })
 //   .then((result) => res.json(result))
```

```
┌─────────┬─────────┬─────────┬─────────┬─────────┬────────────┬───────────┬─────────┐
│ Stat    │ 2.5%    │ 50%     │ 97.5%   │ 99%     │ Avg        │ Stdev     │ Max     │
├─────────┼─────────┼─────────┼─────────┼─────────┼────────────┼───────────┼─────────┤
│ Latency │ 1031 ms │ 2111 ms │ 3469 ms │ 3473 ms │ 2167.92 ms │ 783.76 ms │ 3551 ms │
└─────────┴─────────┴─────────┴─────────┴─────────┴────────────┴───────────┴─────────┘
┌───────────┬───────┬───────┬─────────┬───────┬────────┬────────┬───────┐
│ Stat      │ 1%    │ 2.5%  │ 50%     │ 97.5% │ Avg    │ Stdev  │ Min   │
├───────────┼───────┼───────┼─────────┼───────┼────────┼────────┼───────┤
│ Req/Sec   │ 3     │ 3     │ 19      │ 41    │ 25     │ 15.17  │ 3     │
├───────────┼───────┼───────┼─────────┼───────┼────────┼────────┼───────┤
│ Bytes/Sec │ 732 B │ 732 B │ 4.63 kB │ 10 kB │ 6.1 kB │ 3.7 kB │ 732 B │
└───────────┴───────┴───────┴─────────┴───────┴────────┴────────┴───────┘

```

### { run: "myinc" } 2


```
┌─────────┬────────┬─────────┬─────────┬─────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%     │ 97.5%   │ 99%     │ Avg       │ Stdev     │ Max     │
├─────────┼────────┼─────────┼─────────┼─────────┼───────────┼───────────┼─────────┤
│ Latency │ 985 ms │ 2083 ms │ 3299 ms │ 3315 ms │ 2082.4 ms │ 756.95 ms │ 3326 ms │
└─────────┴────────┴─────────┴─────────┴─────────┴───────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬───────┬────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5% │ Avg    │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼───────┼────────┼─────────┼─────────┤
│ Req/Sec   │ 5       │ 5       │ 18      │ 41    │ 25     │ 14.38   │ 5       │
├───────────┼─────────┼─────────┼─────────┼───────┼────────┼─────────┼─────────┤
│ Bytes/Sec │ 1.22 kB │ 1.22 kB │ 4.39 kB │ 10 kB │ 6.1 kB │ 3.51 kB │ 1.22 kB │
└───────────┴─────────┴─────────┴─────────┴───────┴────────┴─────────┴─────────┘

```

### Very warm { run: "myinc" } 1

```
┌─────────┬────────┬────────┬─────────┬─────────┬───────────┬───────────┬─────────┐
│ Stat    │ 2.5%   │ 50%    │ 97.5%   │ 99%     │ Avg       │ Stdev     │ Max     │
├─────────┼────────┼────────┼─────────┼─────────┼───────────┼───────────┼─────────┤
│ Latency │ 254 ms │ 678 ms │ 1443 ms │ 1450 ms │ 743.14 ms │ 349.97 ms │ 1464 ms │
└─────────┴────────┴────────┴─────────┴─────────┴───────────┴───────────┴─────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 23      │ 23      │ 23      │ 77      │ 50      │ 27      │ 23      │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 5.61 kB │ 5.61 kB │ 5.61 kB │ 18.8 kB │ 12.2 kB │ 6.58 kB │ 5.61 kB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

```